{"version":3,"sources":["Components/QuizInput.jsx","Services/AudioPlayer.js","Services/Api.js","Components/AudioButton.jsx","Components/QuizElement.jsx","Components/QuizContainer.jsx","Components/Score.jsx","Components/QuizFooter.jsx","Resources/github.png","Components/GiveUpButton.jsx","App.js","index.js"],"names":["timeout","handlePlayError","error","DOMException","message","indexOf","console","window","alert","audioPlayer","sound","Audio","playAudio","id","pause","volume","play","catch","AudioPlayer","Api","fetchSounds","transform","set","axios","get","then","r","data","e","checkAnswer","answer","post","giveUp","AudioButton","buttonRef","React","createRef","ref","onClick","current","blur","size","QuizInput","handleCheck","useState","text","setText","className","loading","correct","game","getClass","type","maxLength","value","onChange","fn","bufferInterval","newValue","target","trim","length","clearTimeout","setTimeout","disabled","placeholder","QuizElement","index","QuizContainer","sounds","map","s","i","getStyle","score","max","scorePercentInteger","Math","round","Score","visible","fixed","QuizFooter","footerVisible","setVisible","footerRef","checkFooterVisibility","top","getBoundingClientRect","innerHeight","useEffect","onscroll","clazz","href","width","src","alt","buttonPressTimer","GiveUpButton","isDisabled","handleButtonPress","handleButtonRelease","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","App","setSounds","gaveUp","setGaveUp","ids","order","sort","a","b","setLoading","isLoading","temp","findIndex","success","updated","spoilers","find","x","filter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fd52f049.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nlet timeout\r\n\r\nconst debounce = (fn, bufferInterval) => {\r\n  clearTimeout(timeout)\r\n  timeout = setTimeout(fn, bufferInterval)\r\n}\r\n\r\nconst QuizInput = ({ sound, handleCheck }) => {\r\n  const [text, setText] = useState('')\r\n\r\n  const performCheck = value => {\r\n    if (value.length > 0) {\r\n      handleCheck(sound.id, value)\r\n    }\r\n  }\r\n\r\n  const handleChange = ({ target }) => {\r\n    const newValue = target.value || ''\r\n    setText(newValue)\r\n    debounce(() => performCheck(newValue.trim()), 200)\r\n  }\r\n\r\n  const getClass = sound => {\r\n    if (sound.loading) {\r\n      return 'Quiz-input--loading'\r\n    }\r\n    if (sound.correct) {\r\n      return 'Quiz-input--correct'\r\n    }\r\n    if (sound.game) {\r\n      return 'Quiz-input--spoiler'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <input\r\n      className={getClass(sound)}\r\n      type='text'\r\n      maxLength={40}\r\n      value={sound.game || text}\r\n      onChange={handleChange}\r\n      disabled={sound.game !== null}\r\n      placeholder={`Input answer... `}\r\n    />\r\n  )\r\n}\r\n\r\nexport default QuizInput\r\n","const baseUrl = '/api/sounds/'\r\n\r\nconst handlePlayError = error => {\r\n  if (error instanceof DOMException && error.message.indexOf('pause()') > -1) {\r\n    // Double clicked audio, pause() interferes with play()\r\n    console.error(error)\r\n    return\r\n  } else {\r\n    window.alert('Network error: No response. Try again.')\r\n  }\r\n}\r\n\r\nconst AudioPlayer = () => {\r\n  let sound = new Audio()\r\n\r\n  const playAudio = id => {\r\n    sound.pause()\r\n    sound = new Audio(`${baseUrl}${id}.mp3`)\r\n    sound.volume = 0.8 // No need to break peoples ears\r\n    sound.play().catch(handlePlayError)\r\n  }\r\n\r\n  return {\r\n    playAudio\r\n  }\r\n}\r\n\r\nconst audioPlayer = AudioPlayer()\r\n\r\nexport default audioPlayer\r\n","import axios from 'axios'\r\n\r\nconst fetchSounds = (transform, set) =>\r\n  axios\r\n    .get('/api/sounds')\r\n    .then(r => r.data)\r\n    .then(data => set(transform(data)))\r\n    .catch(e => {\r\n      window.alert('Network error: No response. Try reloading the page.')\r\n    })\r\n\r\nconst checkAnswer = (id, answer, set) =>\r\n  axios\r\n    .post(`/api/sounds/${id}/answer`, { answer })\r\n    .then(r => r.data)\r\n    .then(set)\r\n    .catch(e => {\r\n      window.alert('Network error: No response. Try again.')\r\n    })\r\n\r\nconst giveUp = set =>\r\n  axios\r\n    .post(`/api/give-up`, {})\r\n    .then(r => r.data)\r\n    .then(set)\r\n    .catch(e => {\r\n      window.alert('Network error: No response. Try again.')\r\n    })\r\n\r\nconst Api = {\r\n  fetchSounds,\r\n  checkAnswer,\r\n  giveUp\r\n}\r\n\r\nexport default Api\r\n","import React from 'react'\r\nimport { FaPlay } from 'react-icons/fa'\r\n\r\nconst AudioButton = ({ id, playAudio }) => {\r\n  const buttonRef = React.createRef()\r\n\r\n  const handleClick = () => {\r\n    buttonRef.current.blur()\r\n    playAudio(id)\r\n  }\r\n\r\n  return (\r\n    <button ref={buttonRef} onClick={handleClick}>\r\n      <FaPlay size={20} />\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default AudioButton\r\n","import React from 'react'\r\n\r\nimport AudioButton from './AudioButton'\r\nimport QuizInput from './QuizInput'\r\n\r\nimport './QuizElement.css'\r\n\r\nconst QuizElement = ({ index, sound, playAudio, handleCheck }) => (\r\n  <div className='Quiz-element'>\r\n    <AudioButton id={sound.id} playAudio={playAudio} correct={sound.correct} />\r\n    <QuizInput sound={sound} handleCheck={handleCheck} />\r\n    <span className='Quiz-element-index'>{index}</span>\r\n  </div>\r\n)\r\n\r\nexport default QuizElement\r\n","import React from 'react'\r\n\r\nimport QuizElement from './QuizElement'\r\n\r\nconst QuizContainer = ({ sounds, playAudio, handleCheck }) => (\r\n  <section className='Quiz-main'>\r\n    {sounds.length === 0 && <p>Loading...</p>}\r\n    {sounds.map((s, i) => (\r\n      <QuizElement\r\n        key={s.id}\r\n        index={i + 1}\r\n        sound={s}\r\n        playAudio={playAudio}\r\n        handleCheck={handleCheck}\r\n      />\r\n    ))}\r\n  </section>\r\n)\r\n\r\nexport default QuizContainer\r\n","import React from 'react'\r\n\r\nimport './Score.css'\r\n\r\nconst getStyle = (score, max) => {\r\n  const scorePercentInteger = Math.round(score / max * 100);\r\n\r\n  switch (true) {\r\n    case scorePercentInteger > 99:\r\n      return 'fantastic'\r\n    case scorePercentInteger > 75:\r\n      return 'excellent'\r\n    case scorePercentInteger > 50:\r\n      return 'great'\r\n    case scorePercentInteger > 25:\r\n      return 'decent'\r\n    case scorePercentInteger > 15:\r\n      return 'way-off'\r\n    default:\r\n      return 'miss'\r\n  }\r\n}\r\n\r\nconst Score = ({ score, max, visible, fixed }) => (\r\n  <div\r\n    className={`Quiz-score-wrapper ${\r\n      fixed ? 'Quiz-score-wrapper--fixed' : ''\r\n    } ${visible ? 'Quiz-score-wrapper--hidden' : ''}`}\r\n  >\r\n    Score:\r\n    <span className={`Quiz-score Quiz-score--${getStyle(score, max)}`}>\r\n      {score}\r\n    </span>{' '}\r\n    / {max}\r\n  </div>\r\n)\r\n\r\nexport default Score\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport Score from './Score'\r\nimport github from '../Resources/github.png'\r\n\r\nimport './QuizFooter.css'\r\n\r\nconst QuizFooter = ({ score, max }) => {\r\n  const [footerVisible, setVisible] = useState(true)\r\n\r\n  const footerRef = React.createRef()\r\n\r\n  const checkFooterVisibility = () => {\r\n    if (footerRef.current == null) return\r\n    const top = footerRef.current.getBoundingClientRect().top\r\n    setVisible(top + 47 <= window.innerHeight)\r\n  }\r\n\r\n  const footerVisibilityListener = () => {\r\n    checkFooterVisibility()\r\n    window.onscroll = checkFooterVisibility\r\n    return () => {\r\n      window.onscroll = null\r\n    }\r\n  }\r\n\r\n  useEffect(footerVisibilityListener)\r\n\r\n  return (\r\n    <div className='Quiz-footer' ref={footerRef}>\r\n      <Score\r\n        clazz='Quiz-score-fixed'\r\n        score={score}\r\n        max={max}\r\n        fixed\r\n        visible={footerVisible}\r\n      />\r\n      <Score score={score} max={max} />\r\n      <div className='Quiz-footer-text'>\r\n        <p>\r\n          Source code available at\r\n          {' '}\r\n          <a href='https://www.github.com/terohuomo/vg-sfx-quiz'>Github</a>\r\n          {' '}\r\n          <img\r\n            width={16}\r\n            className='Quiz-footer-icon'\r\n            src={github}\r\n            alt='github icon'\r\n          />\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default QuizFooter\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=\"","import React from 'react'\r\n\r\nimport './GiveUpButton.css'\r\n\r\nlet buttonPressTimer = null\r\n\r\nconst GiveUpButton = ({ onClick, isDisabled }) => {\r\n  const handleButtonPress = () => {\r\n    buttonPressTimer = setTimeout(onClick, 1500)\r\n  }\r\n\r\n  const handleButtonRelease = () => {\r\n    clearTimeout(buttonPressTimer)\r\n  }\r\n\r\n  return (\r\n    <div className='Quiz-wrapper'>\r\n      <button\r\n        className='Quiz-giveup-button'\r\n        onMouseDown={handleButtonPress}\r\n        onMouseUp={handleButtonRelease}\r\n        onTouchStart={handleButtonPress}\r\n        onTouchEnd={handleButtonRelease}\r\n        disabled={isDisabled}\r\n      >\r\n        <b>Press and hold</b> for spoilers\r\n      </button>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GiveUpButton\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nimport AudioPlayer from './Services/AudioPlayer'\r\nimport Api from './Services/Api'\r\nimport QuizContainer from './Components/QuizContainer'\r\nimport QuizFooter from './Components/QuizFooter'\r\nimport GiveUpButton from './Components/GiveUpButton'\r\n\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  const [sounds, setSounds] = useState([])\r\n  const [gaveUp, setGaveUp] = useState(false)\r\n\r\n  useEffect(() => {\r\n    const mapToQuizElements = ids =>\r\n      ids\r\n        .map(({ id, order }) => ({\r\n          id,\r\n          order,\r\n          correct: false,\r\n          game: null,\r\n          loading: false\r\n        }))\r\n        .sort((a, b) => a.order - b.order)\r\n\r\n    Api.fetchSounds(mapToQuizElements, setSounds)\r\n  }, [])\r\n\r\n  const correctAnswers = () => {\r\n    return sounds.filter(s => s.correct).length\r\n  }\r\n\r\n  const setLoading = (id, isLoading) => {\r\n    const temp = [...sounds]\r\n    const index = temp.findIndex(e => e.id === id)\r\n    temp[index] = {\r\n      ...temp[index],\r\n      loading: isLoading\r\n    }\r\n    setSounds(temp)\r\n  }\r\n\r\n  const handleCheck = (id, answer) => {\r\n    setLoading(id, true)\r\n\r\n    Api.checkAnswer(id, answer, ({ success, answer }) => {\r\n      if (success) {\r\n        const updated = [...sounds]\r\n        const index = updated.findIndex(e => e.id === id)\r\n        updated[index] = {\r\n          id,\r\n          correct: true,\r\n          game: answer.game,\r\n          loading: false\r\n        }\r\n        setSounds(updated)\r\n      } else {\r\n        setLoading(id, false)\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleGiveUp = () => {\r\n    Api.giveUp(spoilers => {\r\n      AudioPlayer.playAudio('game-over')\r\n      setSounds(\r\n        sounds.map(s => ({\r\n          ...s,\r\n          game: (spoilers.find(x => x.id === s.id) || {}).game\r\n        }))\r\n      )\r\n      setGaveUp(true)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <article className='App'>\r\n      <header className='Quiz-header'>Video Game SFX Quiz</header>\r\n      <QuizContainer\r\n        sounds={sounds}\r\n        handleCheck={handleCheck}\r\n        playAudio={AudioPlayer.playAudio}\r\n      />\r\n      {sounds.length > 0 && (\r\n        <GiveUpButton onClick={handleGiveUp} isDisabled={gaveUp} />\r\n      )}\r\n      <QuizFooter max={sounds.length} score={correctAnswers()} />\r\n    </article>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\n\r\nimport App from './App'\r\n\r\nimport './index.css'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}